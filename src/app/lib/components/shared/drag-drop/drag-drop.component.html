<div class="grid gap-4 grid-cols-5" cdkDropListGroup>
  @for (status of statuses; track status) {
    <app-card-group
      class="status-list"
      [title]="status"
      [totalItems]="issueByStatusSorted$(status) | async"
    >
      <div
        class="border block rounded overflow-hidden min-h-16 bg-white"
        cdkDropList
        [cdkDropListData]="(filteredTasks$ | async) ?? []"
        [id]="status"
        (cdkDropListDropped)="drop($event, status)"
      >
        @for (task of issueByStatusSorted$(status) | async; track task) {
          <app-card cdkDrag (click)="emitData(task)" class="cursor-pointer">
            <div card-title>{{ task.title }}</div>
            <div card-content class="break-words text-sm text-gray-600 pb-4">
              <!-- <p class="mb-2">{{ task.description }}</p> -->
              <!-- <div class="text-xs text-gray-500">
                <span>Deadline: {{ task.dueDate | date }}</span>
              </div> -->
            </div>
            <div card-footer class="flex justify-between items-center mt-4">
              <!-- <span>Comments: {{ task.comments.length }}</span> -->
              <!-- <div>Attachments: {{ item.attachments.length }}</div> -->
            </div>
          </app-card>
        }
        @if (status === _statusEnum.BACKLOG) {
          <button mat-button class="w-full" (click)="emitData(null)">
            Add
          </button>
        }
      </div>
    </app-card-group>
  }
</div>
